{
  "kind": "build_request",
  "title": "Make production deployment reliable by using ICP-safe routing",
  "projectName": "UNO Lease Hub",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-26",
      "text": "Update the frontend routing strategy so the app works reliably when deployed live on the Internet Computer, including direct navigation and browser refresh on non-root routes (e.g., /listings, /listings/:listingId, /how-it-works, /dashboard) without returning a 404.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4",
          "msg-5"
        ],
        "quotes": [
          "try going live",
          "Got it â€” starting the build now."
        ]
      },
      "acceptanceCriteria": [
        "When deployed live, visiting the home page and navigating via links to /listings, /listings/$listingId, /how-it-works, and /dashboard works as expected.",
        "When deployed live, manually entering each route URL in the browser address bar and pressing Enter loads the correct page (no 404).",
        "When deployed live, refreshing the browser (hard refresh) on each of the routes listed above loads the correct page (no 404)."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single Motoko actor in backend/main.mo; only add backend migration if persistent state changes require it.",
    "Do not edit frontend immutable paths: frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useInternetIdentity.tsx, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, frontend/src/components/ui.",
    "Use English for any user-facing text."
  ],
  "nonGoals": [
    "Adding new product features beyond deployment/routing reliability.",
    "Changing authentication providers (Internet Identity remains the only auth).",
    "Introducing external databases, servers, or third-party hosting/deployment services."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}